const{createApp:r,ref:o,onMounted:l}=Vue;r({setup(){const n=o([]),e=o({subject:"",body:""}),s=o(!1),c=()=>{var t;return((t=document.querySelector('meta[name="csrf-token"]'))==null?void 0:t.getAttribute("content"))??""},a=async()=>{s.value=!0;const t=await fetch("/api/tickets");n.value=await t.json(),s.value=!1},i=async()=>{document.querySelector('meta[name="csrf-token"]').getAttribute("content"),(await fetch("/api/tickets",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":c()},body:JSON.stringify(e.value)})).ok&&(e.value.subject="",e.value.body="",await a())},u=async t=>{t.loading=!0,await fetch(`/api/tickets/${t.id}/classify`,{method:"POST",headers:{"X-CSRF-TOKEN":c()}}),setTimeout(a,1500)};return l(a),{tickets:n,form:e,loading:s,submitTicket:i,classify:u}}}).mount("#app");
